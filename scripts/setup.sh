#!/usr/bin/env bash

set -euo pipefail

cat <<"EOF"
                                                                                                    
.______       _______  _______   __    __  ____    __    ____  ___      .__   __.  __     _______.   
|   _  \     |   ____||       \ |  |  |  | \   \  /  \  /   / /   \     |  \ |  | (_ )   /       |   
|  |_)  |    |  |__   |  .--.  ||  |__|  |  \   \/    \/   / /  ^  \    |   \|  |  |/   |   (----`   
|      /     |   __|  |  |  |  ||   __   |   \            / /  /_\  \   |  . `  |        \   \       
|  |\  \----.|  |____ |  '--'  ||  |  |  |    \    /\    / /  _____  \  |  |\   |    .----)   |      
| _| `._____||_______||_______/ |__|  |__|     \__/  \__/ /__/     \__\ |__| \__|    |_______/       
                                                                                                    
       _______   ______   .___________. _______  __   __       _______     _______.                  
      |       \ /  __  \  |           ||   ____||  | |  |     |   ____|   /       |                  
      |  .--.  |  |  |  | `---|  |----`|  |__   |  | |  |     |  |__     |   (----`                  
      |  |  |  |  |  |  |     |  |     |   __|  |  | |  |     |   __|     \   \                      
      |  '--'  |  `--'  |     |  |     |  |     |  | |  `----.|  |____.----)   |                     
      |_______/ \______/      |__|     |__|     |__| |_______||_______|_______/                      
                                                                                                    
                                                                                                    
EOF

XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"
DOTFILES_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"

mkdir -p "$XDG_CONFIG_HOME"

source "$DOTFILES_DIR/scripts/helpers/detect_os.sh"
source "$DOTFILES_DIR/scripts/packages.sh"

OS=$(detect_os)

setup_packages "$DOTFILES_DIR" "$XDG_CONFIG_HOME" "$OS"
